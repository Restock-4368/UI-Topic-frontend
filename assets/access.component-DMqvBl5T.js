import{_ as c,a3 as b,d as g,f as k,b as s,g as m,h as l,u as d,N as p,F as S,o as a,S as I,a7 as T,c as w,e as y,n as _}from"./index-InIZ-6yY.js";const U={name:"login",components:{PvToast:b},data(){return{username:"",password:""}},methods:{login(){const n=localStorage.getItem(this.username);n?JSON.parse(n).password===this.password?(localStorage.setItem("currentUser",this.username),this.$toast.add({severity:"success",summary:"Success",detail:"Welcome "+this.username,life:1e3}),this.$emit("logged-in")):this.$toast.add({severity:"error",summary:"Error",detail:"Incorrect password.",life:3e3}):this.$toast.add({severity:"error",summary:"Error",detail:"User not found.",life:3e3})}}},R={class:"input-field"},N={class:"input-field"};function V(n,e,v,f,t,o){const r=m("pv-toast");return a(),g(S,null,[k(r),s("form",{onSubmit:e[3]||(e[3]=p((...i)=>o.login&&o.login(...i),["prevent"])),class:"sign-in-form"},[e[4]||(e[4]=s("h2",{class:"title"},"Sign in",-1)),s("div",R,[l(s("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=i=>t.username=i),placeholder:"User",required:""},null,512),[[d,t.username]])]),s("div",N,[l(s("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=i=>t.password=i),placeholder:"Password",required:""},null,512),[[d,t.password]])]),s("a",{class:"recover-password-opt",onClick:e[2]||(e[2]=p(i=>n.$emit("recover"),["prevent"]))},"Forgot your password?"),e[5]||(e[5]=s("button",{type:"submit",class:"btn solid"},"Sign in",-1))],32)],64)}const $=c(U,[["render",V],["__scopeId","data-v-76d5dcee"]]),x={name:"register",data(){return{username:"",email:"",password:"",role:""}},methods:{register(){localStorage.getItem(this.username)?this.$toast.add({severity:"warn",summary:"Warning",detail:"User already exists.",life:3e3}):(localStorage.setItem(this.username,JSON.stringify({email:this.email,password:this.password})),this.$toast.add({severity:"success",summary:"Success",detail:"Registered successfully. Now sign in.",life:3e3}),this.$emit("registered"))}}},L={class:"input-field"},C={class:"input-field"},q={class:"input-field"},B={class:"input-field select-field"};function P(n,e,v,f,t,o){return a(),g("form",{onSubmit:e[4]||(e[4]=p((...r)=>o.register&&o.register(...r),["prevent"])),class:"sign-up-form"},[e[6]||(e[6]=s("h2",{class:"title"},"Sign up",-1)),s("div",L,[l(s("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=r=>t.username=r),placeholder:"User",required:""},null,512),[[d,t.username]])]),s("div",C,[l(s("input",{type:"email","onUpdate:modelValue":e[1]||(e[1]=r=>t.email=r),placeholder:"e-mail",required:""},null,512),[[d,t.email]])]),s("div",q,[l(s("input",{type:"password","onUpdate:modelValue":e[2]||(e[2]=r=>t.password=r),placeholder:"Password",required:""},null,512),[[d,t.password]])]),s("div",B,[l(s("select",{"onUpdate:modelValue":e[3]||(e[3]=r=>t.role=r),required:""},e[5]||(e[5]=[s("option",{disabled:"",value:""},"Select role",-1),s("option",null,"Restaurant Administrator",-1),s("option",null,"Restaurant Supplier",-1)]),512),[[I,t.role]])]),e[7]||(e[7]=s("button",{type:"submit",class:"btn solid"},"Sign up",-1))],32)}const D=c(x,[["render",P],["__scopeId","data-v-14a57230"]]),M={name:"recover-password",data(){return{email:""}},methods:{recover(){this.email?(this.$toast.add({severity:"success",summary:"Success",detail:`Recovery link sent to ${this.email}`,life:3e3}),this.email=""):this.$toast.add({severity:"warn",summary:"Warning",detail:"Please enter your email.",life:3e3})}}},E={class:"input-field"};function F(n,e,v,f,t,o){return a(),g("form",{onSubmit:e[2]||(e[2]=p((...r)=>o.recover&&o.recover(...r),["prevent"])),class:"recover-password-form"},[e[3]||(e[3]=s("h2",{class:"title"},"Forgot your password?",-1)),e[4]||(e[4]=s("p",{class:"text-recover-password"}," Don't worry. Resetting your password is easy: just tell us which e-mail address you registered with. ",-1)),s("div",E,[l(s("input",{type:"email","onUpdate:modelValue":e[0]||(e[0]=r=>t.email=r),placeholder:"e-mail",required:""},null,512),[[d,t.email]])]),e[5]||(e[5]=s("button",{type:"submit",class:"btn solid"},"SEND",-1)),s("button",{type:"button",class:"btn solid",onClick:e[1]||(e[1]=r=>n.$emit("back"))},"Back")],32)}const A=c(M,[["render",F],["__scopeId","data-v-f98f936c"]]),J={name:"access",components:{LanguageSwitcher:T,Login:$,Register:D,RecoverPassword:A},data(){return{mode:"signin"}},computed:{currentMode(){return this.mode==="signup"?"sign-up-mode":this.mode==="recover"?"recover-password-mode":""}},methods:{switchToSignin(){this.mode="signin"},switchToSignup(){this.mode="signup"},switchToRecover(){this.mode="recover"},handleLoggedIn(){setTimeout(()=>{this.$router.push("/dashboard/restaurant/summary")},1e3)},goToLanding(){window.location.href="https://restock-4368.github.io/landing-page/"}}},W={class:"forms-container"},G={class:"signin-signup-recover"},O={class:"panels-container"},j={class:"panel left-panel"},z={class:"content"},H={class:"panel right-panel"},K={class:"content"};function Q(n,e,v,f,t,o){const r=m("login"),i=m("register"),h=m("recover-password");return a(),g(S,null,[s("button",{class:"back-button",onClick:e[0]||(e[0]=(...u)=>o.goToLanding&&o.goToLanding(...u))},e[3]||(e[3]=[s("i",{class:"pi pi-arrow-left"},null,-1)])),s("div",{class:_(["container",o.currentMode])},[s("div",W,[s("div",G,[t.mode==="signin"?(a(),w(r,{key:0,onLoggedIn:o.handleLoggedIn,onRecover:o.switchToRecover},null,8,["onLoggedIn","onRecover"])):y("",!0),t.mode==="signup"?(a(),w(i,{key:1,onRegistered:o.switchToSignin},null,8,["onRegistered"])):y("",!0),t.mode==="recover"?(a(),w(h,{key:2,onBack:o.switchToSignin},null,8,["onBack"])):y("",!0)])]),s("div",O,[s("div",j,[s("div",z,[e[4]||(e[4]=s("h3",null,"Are you new?",-1)),e[5]||(e[5]=s("p",null,"Join our community and start improving your management today!",-1)),s("button",{class:"btn switch",onClick:e[1]||(e[1]=(...u)=>o.switchToSignup&&o.switchToSignup(...u))},"SIGN UP")])]),s("div",H,[s("div",K,[e[6]||(e[6]=s("h3",null,"Already have an account?",-1)),e[7]||(e[7]=s("p",null,"Sign in to continue managing your inventory efficiently.",-1)),s("button",{class:"btn switch",onClick:e[2]||(e[2]=(...u)=>o.switchToSignin&&o.switchToSignin(...u))},"SIGN IN")])])])],2)],64)}const Y=c(J,[["render",Q],["__scopeId","data-v-c4601268"]]);export{Y as default};
