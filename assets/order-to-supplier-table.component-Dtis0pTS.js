import{_ as k,E as y,Y as w,Z as g,d as _,f as t,e as v,a as b,g as d,b as l,c as N,o as p}from"./index-BPx0zh6T.js";const x={name:"OrderToSupplierTable",components:{"pv-data-table":g,"pv-column":w,"pv-button":y},props:{orders:Array,batches:Array,suppliers:Array,states:Array,situations:Array},emits:["viewDetails","leaveFeedback"],computed:{enrichedOrders(){return this.orders.map(e=>{var o,i,c,a;const r={stateName:((o=e.state)==null?void 0:o.name)||"Unknown",situationName:((i=e.situation)==null?void 0:i.name)||"Unknown",supplierName:((c=e.supplier)==null?void 0:c.name)||((a=e.supplier)==null?void 0:a.email)||"Unknown",dateFormatted:new Date(e.date).toLocaleDateString()};return Object.assign({},e,r)})}},methods:{view(e){this.$emit("viewDetails",e)},feedback(e){this.$emit("leaveFeedback",e)}}},C={class:"actions"},O={key:0,class:"empty-state"};function S(e,r,o,i,c,a){const s=d("pv-column"),u=d("pv-button"),h=d("pv-data-table");return p(),_("div",null,[t(h,{value:a.enrichedOrders,paginator:"",rows:5,"rows-per-page-options":[5,10,15]},{default:b(()=>[t(s,{field:"situationName",header:"Situation"}),t(s,{field:"stateName",header:"State"}),t(s,{field:"dateFormatted",header:"Date"}),t(s,{field:"supplierName",header:"Supplier"}),t(s,{field:"requested_products_count",header:"Requested Products"}),t(s,{field:"total_price",header:"Total Price",body:n=>`S/. ${Number(n.total_price).toFixed(2)}`},null,8,["body"]),t(s,{header:"Actions",style:{width:"150px"}},{body:b(n=>{var m;return[l("div",C,[t(u,{icon:"pi pi-eye",class:"p-button-text p-button-sm",onClick:f=>a.view(n.data)},null,8,["onClick"]),((m=n.data.state)==null?void 0:m.name)==="Delivered"?(p(),N(u,{key:0,icon:"pi pi-comment",class:"p-button-text p-button-sm",onClick:f=>a.feedback(n.data)},null,8,["onClick"])):v("",!0)])]}),_:1})]),_:1},8,["value"]),a.enrichedOrders.length?v("",!0):(p(),_("div",O,r[0]||(r[0]=[l("i",{class:"pi pi-truck",style:{"font-size":"2rem",color:"#ccc","margin-bottom":"0.5rem"}},null,-1),l("p",null," You currently have no orders registered. Create a new order to start managing your purchases and supplies from this section. ",-1)])))])}const A=k(x,[["render",S],["__scopeId","data-v-89a77bd3"]]);export{A as O};
